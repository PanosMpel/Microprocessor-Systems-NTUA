START:
	LDA 2000H
	MVI B,09H  ;XEKINAW TO B=9 GIA NA SYMPERILABW TO MSB
	MVI D,00H  ;POSES FORES 8A KANW THN PROS8ESH TOY A(DYNAMH TOY 2)

LOOP1:
	RRC
	DCR B
	JZ AGAIN  ;OTAN TO B=0 SVINOUN TA LED
	JC DEXIA  ;ANOIXTW DIP SWITCH ARA ANABW TO ANTISTOIXW LED APO TO LOOP 'DEXIA'
	INR D
	JMP LOOP1

DEXIA:
	MOV A,D   ;PERIEXOMENO TOY D STON A
	CPI 00H   ;ELEGXW AN D=0(MESW TOY A)
	JZ EQONE  ;AN EINAI D=0 TOTE EIMASTE STO LSB LED
	MVI A,01H ;ARXIKOPOIW TO A=1 
MUL_A:
	ADD A     ;XEKINAEI H PROS8ESH TOY A ME TON EAUTO TOY(SAN DYNAMEIS TOY 2)
	DCR D
	JNZ MUL_A ;EAN D!=0 SYNEXISE STO LOOP MUL_A
	CMA       ;ANTISTROFH LOGIKH TON LED
	STA 3000H ;ANOIGOYN LED
	JMP START ;PALI APO THN ARXH

EQONE:           ;EDW MPAINOYME MONO OTAN 8ELOYME NA ANAVEI TO LSB LED
	MVI A,01H ;A=1
	CMA
	STA 3000H
	JMP START

AGAIN:	          ;EDW MPAINOYME OTAN OLA TA DIP SWITCHES EINAI OFF
	MVI A,FFH ;OLA TA LED SVINOYN
	STA 3000H
	JMP START ;PALI APO THN ARXH
END